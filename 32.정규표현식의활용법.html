<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>32. 정규표현식의 활용법</title>
</head>
<body>

</body>
<script>

  //메타문자를 이용한 자릿수 확인
  //. -> 모든 문자(공백, 특수문자를 포함)
  // 1글자를 뜻하는 표현 1자릿수

  // 생년월일 6자리 , 성별1자리를 포함한 7자리

  var regExp = /^......-.......$/;

  var num = '980516-1546825';

  console.log(regExp.test(num));
  // 찾는 내용이 있을 경우 true, 없으면 false

  if(regExp.test(num)){
    // true -> 찾는 내용이 있을 때
    console.log('내용은 모르겠지만 자릿수는 맞네요!');
  } else {
    // false -> 찾는 내용이 없을 때
    console.log('이런 자릿수도 맞지가 않네요!');
  }

  /*
  --추가적으로 사용되는 메타문자--

  \d : 숫자[0-9]와 동일한 의미
  \w : 아무 단어(숫자 포함) 언더비(_)를 포함한 [A-Za-z0-9]와 동일한 의미
  \s : 공백문자(탭, 띄워쓰기, 줄바꿈 등)를 포함한 하나의 공백문자
  \D : 숫자가 아닌 문자 [^A-z0-9] 와 동일한 의미
  \W : 아무 단어가 아닌 것 [^A-Za-z0-9] 와 동일한 의미
  \S : 공백이 아닌 하나의 문자 (공백 제외한 문자)
  */

  var regExp = /^\d\d\d\d\d\d-\d\d\d\d\d\d\d$/;
  
  if(regExp.test(num)){
    console.log('내용이 주민등록번호의 형식에 맞는진 모르겠지만 최소한 숫자와 자리수가 맞아요!');
  } else {
    console.log('내용이 숫자가 아니거나 자릿수가 맞지 않네요');
  }

  // 수량문자
  // 여기서 n은 숫자와 문자 구분없는 일반 문자를 의미
  // n+ : n이 적어도 1개 이상 존재
  // n* : n이 0회 이상 반복, n가 0개 또는 여러개
  // n? : n이 0개 또는 1개
  // n{x} : n이 x개
  // n{x,y} : n이 x개 이상 y개 이하
  // n{x,} : n이 x개 이상
  // n{,y} : n이 y개 이하

  // 주민등록번호를 생각해보면
  // 앞에 숫자 6자리, 하이픈, 뒤에 숫자 7자리
  // 앞의 숫자 6자리는 -> 년/월/일

  // 년 -> 0-9 모든 숫자가 들어갈 수 있습니다.
  // 월 -> 월의 앞자리가 0일때는 뒤에 1부터 9까지 가능
  //       월의 앞자리가 1일때는 뒤에 0부터 2까지 가능
  // 일 -> 일의 앞의자리가 0일때는 뒤에 1부터 9까지 가능
  //       일의 앞의자리가 1일때는 뒤에 0부터 9까지 가능
  //       일의 앞의자리가 2일때는 뒤에 0부터 9까지 가능
  //       일의 앞의자리가 3일때는 뒤에 0부터 1까지 가능

  // 뒤의 첫번째자리 --> 성별을 의미 1,2,3,4
  // 나머지 6개자리는 0에서 9까지 모든 숫자가 가능

  var regExp = /^(\d{2}(0[1-9]|1[0-2])(0[1-9]|[1-2][0-9]|3[0-1]))-([1234]\d{6})$/;

  if(regExp.test(num)){
    console.log('모든 조건을 통과했고 이젠 완벽합니다.')
  } else {
    console.log('모든 조건을 통과하지 못 했습니다');
  }

</script>
</html>